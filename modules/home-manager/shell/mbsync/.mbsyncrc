Create Both
Expunge Both
SyncState *
# by default (CopyArrivalDate no)
# See:
# https://wiki.archlinux.org/index.php/Isync#Emails_on_remote_server_have_the_wrong_date
# https://rakhim.org/fastmail-setup-with-emacs-mu4e-and-mbsync-on-macos/
# https://vxlabs.com/2021/03/21/mbsync-copyarrivaldate-yes/
CopyArrivalDate yes

IMAPAccount gmail
Host imap.gmail.com
UserCmd "pass show gmail-mbsync | grep '^Username:' | cut -d' ' -f2-"
PassCmd "pass show gmail-mbsync | head -n1"
TLSType IMAPS

IMAPStore gmail-remote
Account gmail

MaildirStore gmail-local
Subfolders Verbatim
Path ~/mail/igorbarale@gmail.com/
Inbox ~/mail/igorbarale@gmail.com/inbox

Channel gmail-inbox
Near ":gmail-local:inbox"
Far ":gmail-remote:INBOX"

Channel gmail-sent
Near ":gmail-local:sent"
Far ":gmail-remote:[Gmail]/Sent Mail"

Channel gmail-drafts
Near ":gmail-local:drafts"
Far ":gmail-remote:[Gmail]/Drafts"

Channel gmail-archive
Near ":gmail-local:archive"
Far ":gmail-remote:[Gmail]/All Mail"

Channel gmail-trash
Near ":gmail-local:trash"
Far ":gmail-remote:[Gmail]/Trash"

Channel gmail-spam
Near ":gmail-local:spam"
Far ":gmail-remote:[Gmail]/Spam"

Group gmail
Channel gmail-inbox
Channel gmail-sent
Channel gmail-drafts
Channel gmail-trash
Channel gmail-spam